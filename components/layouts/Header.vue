<template>
    <header>
        <div class="flex items-center justify-between bg-sky-800 text-white p-4 shadow-md">
            <!-- Logo ‡πÅ‡∏•‡∏∞ ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° -->
            <div class="hidden md:flex items-center space-x-3">
                <NuxtLink to="/" class="hidden md:flex items-center space-x-3">
                    <img src="/image/icon_web.png" alt="Logo" class="h-10 w-10" />
                    <span class="text-xl font-bold">OPNOTE OR</span>
                </NuxtLink>
            </div>

            <div>
                <SplitButton label="Admin" icon="pi pi-user" :model="itemsLogoutButton" rounded severity="secondary">
                </SplitButton>

            </div>
        </div>
        <Menubar :model="items" :pt="{
            root: {
                class: 'border-1 border-solid !rounded-none z-50'
            }
        }" />
    </header>

</template>
<script setup>
import { ref } from 'vue'
import { navigateTo } from 'nuxt/app'
import { useClearAllEncryptedCookies } from '~/composables/useEncryptedCookie' // ‚úÖ import ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏°‡∏≠

const items = ref([
  {
    label: '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
    icon: '',
    items: [
      {
        label: '‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà',
        icon: '',
        command: () => navigateTo('/manage/category-main')
      },
      {
        label: '‡∏™‡∏≤‡∏Ç‡∏≤',
        icon: '',
        command: () => navigateTo('/manage/branch-main')
      },
      {
        label: '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤',
        icon: '',
        command: () => navigateTo('/manage/products-in-branch')
      },
      {
        label: '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢',
        icon: '',
        command: () => navigateTo('/manage/supplier-product')
      }
    ]
  },
  {
    label: 'Login',
    icon: '',
    command: () => navigateTo('/auth/login')
  }
])

const itemsLogoutButton = [
  {
    label: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö',
    command: async () => {
      await useClearAllEncryptedCookies() // üîê ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏∏‡∏Å encrypted cookie
      return navigateTo('/auth/login')
    }
  }
]
</script>

<style scoped>
/* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô */
</style>
